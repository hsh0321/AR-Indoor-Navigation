[![Github Badge](http://img.shields.io/badge/-Github-black?style=for-the-badge&logo=github&link=https://github.com/hsh0321)](https://github.com/hsh0321)	
[![author](https://img.shields.io/badge/HSH-BLOG-red.svg?style=for-the-badge)](https://hsh0321.github.io/)
[![Baekjoon](https://img.shields.io/badge/HSH-BAEKJOON-blue.svg?style=for-the-badge)](https://www.acmicpc.net/user/ppko1233)
[![Tech Blog Badge](http://img.shields.io/badge/-instagram-black?style=for-the-badge&logo=instagram&link=https://www.instagram.com/_h_sh__/)](https://www.instagram.com/_h_sh__/)
[![Gmail Badge](https://img.shields.io/badge/Gmail-d14836?style=for-the-badge&logo=Gmail&logoColor=white&link=mailto:ppko1233@gmail.com)](mailto:ppko1233@gmail.com)

# Indoor-Navigation-ARCore
 _êµ¬ê¸€ ARcore SDKë¥¼ ì´ìš©í•˜ì—¬ ì•ˆë“œë¡œì´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ì˜€ë‹¤.(Unity3D Project)_

[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/_nfCblHYu-I/0.jpg)](https://www.youtube.com/watch?v=_nfCblHYu-I)

## Project Info â“ :
 * Engineã€€ã€€ã€€ã€€ : **Unity** - 2018.3.4f
 * IDE ã€€ã€€ã€€ã€€ã€€ : 	**Eclipse** - 2020-03
 * Languageã€€ã€€ã€€: **C#**, **Java13**, **Python**
 * SDK, Libraryã€€ ã€€:	**ARcore v1.15.0**, **Tensorflow 1.15 for GPU**

## Features â— :
 * BLE Beaconì„ ì´ìš©í•œ ì‹¤ë‚´ ìœ„ì¹˜ ì¸¡ìœ„ ì‹œìŠ¤í…œ
 * ARcore Slam ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•œ ìƒëŒ€ì  ìœ„ì¹˜ ì—…ë°ì´íŠ¸
 * Server(PC)ì—ì„œ Machine Learning modelì˜ outputì„ ë‹¨ë§ê¸°ë¡œ ì „ì†¡
 * Unityì—ì„œ ë¸”ë£¨íˆ¬ìŠ¤ ì‹ í˜¸ë¥¼ ìˆ˜ì‹ í•˜ê¸° ìœ„í•˜ì—¬ Native ì•ˆë“œë¡œì´ë“œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸°ìœ„í•˜ì—¬ JARíŒŒì¼ë¡œ í”ŒëŸ¬ê·¸ì¸ ìƒì„±


## discussion âš  :
ã€€ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì œì‘í•˜ë©´ì„œ ì „ì²´ì ì¸ UIë‚˜ Logicë“±ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì´ í¥ë¯¸ë¡œì› ë˜ í”„ë¡œì íŠ¸ì˜€ë‹¤.
ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ ê³¼ëª©ì„ ìˆ˜ê°•í•˜ì—¬ì„œ ê·¸ëŸ°ì§€ **Unity**ì—ì„œ Script ì‘ì„±ì„ í•  ë•Œ í¬ê²Œ ì–´ë ¤ì›€ì„ ì—†ì—ˆë‹¤.
OpenGL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²Œì„ ì œì‘ì„ í•œ ê²½í—˜ì´ ìˆëŠ”ë° ê·¸ ë•ŒëŠ” í•˜ë“œì½”ë”©ì„ í•˜ì—¬ ì—„ì²­ë‚œ ì‹œê°„ íˆ¬ìë¥¼ í•˜ì˜€ëŠ”ë°
Unity íˆ´ì—ì„œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ (ì¹´ë©”ë¼,ì˜¤ë¸Œì íŠ¸ ìƒì„±) ë“± ë§¤ìš° ê°„í¸í•˜ê²Œ ë˜ì–´ ìˆë‹¤ë³´ë‹ˆ ì´í•´í•˜ëŠ”ë° ì–´ë µì§€ ì•Šì•˜ë‹¤.
ë‹¤ë§Œ Unity ìì²´ì˜ LifeCycleê³¼ êµ¬ì„± ë™ì‘ì— ëŒ€í•œ ì´í•´ê°€ ìƒˆë¡­ë‹¤ë³´ë‹ˆ ê°œë°œìë…¸íŠ¸ë¥¼ ì—„ì²­ë‚˜ê²Œ ì°¸ê³ í•œ ê²½í—˜ì´ë‹¤.
ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì–´ë ¤ì›€ì„ ê²ªì—ˆë˜ ê²ƒì€ Unityë¥¼ ì‚¬ìš©í•´ ê²Œì„ì„ ë§Œë“¤ë‹¤ ë³´ë©´ Android ì•Œë¦¼(ë¡œì»¬ í‘¸ì‹œ)ì„ ì‚¬ìš©í•˜ê±°ë‚˜ 
Unity Pluginìœ¼ë¡œ ì§€ì›í•˜ì§€ ì•ŠëŠ” SNS ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° ë„¤ì´í‹°ë¸Œë¡œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ì¢…ì¢… ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. 
JAR í”ŒëŸ¬ê·¸ì¸ ì„ í†µí•´ì„œ C#ì—ì„œ Java ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê³  Javaì—ì„œ C# ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ ì´ ë°©ë²•ì„ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.




## Contribute ğŸ˜€ :
ã€€ë³¸ ì—°êµ¬ì—ì„œëŠ” ê¸°ì¡´ì˜ Beaconì„ ì´ìš©í•œ ì‹¤ë‚´ ìœ„ì¹˜ ì¸¡ìœ„ì˜ ì„±ëŠ¥ì„ ê°œì„ í•˜ê³  ì¦ê°•í˜„ì‹¤ ì‘ìš© ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤. ë¨¸ì‹ ëŸ¬ë‹ì„ ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ë§ì€ ì–‘ì˜ ë°ì´í„°ê°€ í•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ, ì‹¤í—˜í•  í™˜ê²½ì„ ê°–ì¶”ê³  ì•½ 3ë§Œê°œì˜ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì˜€ë‹¤. Beaconì˜ íŠ¹ì„±ìƒ ì‹ í˜¸ê°€ ë¶ˆì•ˆì •í•˜ê¸° ë•Œë¬¸ì—, ë” ì •í™•í•œ ê²°ê³¼ ê°’ì„ ìœ„í•´ì„œ ê°ê°ì˜ ì‹ í˜¸ë¥¼ ë°ì´í„° ì²˜ë¦¬ê³¼ì •ì„ í†µí•˜ì—¬ ì•ˆì •í™” ì‹œí‚¨ í›„ ì¤‘ë³µ ë°ì´í„°ë¥¼ ì œê±°í•œ í›„ì˜ ê°œìˆ˜ëŠ” ì•½ 1ë§Œê°œ ì •ë„ë¡œ ê°ì†Œí•˜ì˜€ë‹¤.
ã€€ë” ì •í™•í•œ ì‹¤ë‚´ ìœ„ì¹˜ë¥¼ ì¸¡ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ëª‡ ê°€ì§€ ê°œì„ ì ì´ í•„ìš”í•˜ë‹¤ê³  ìƒê°ëœë‹¤. ë¨¼ì €, ë°ì´í„°ì˜ ì–‘ì€ ë§ì„ìˆ˜ë¡ ì •í™•ë„ê°€ ìƒìŠ¹í•œë‹¤. ë”°ë¼ì„œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ì˜€ì„ ë•Œ, ê° ì¢Œí‘œë§ˆë‹¤ ì•½ 500ê°œì”©ì˜ ë°ì´í„°ê°€ ìˆë„ë¡ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆì–´ì•¼ í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ì§€ê¸ˆì˜ ë°ì´í„°ì— ë¹„í•´ ì•½ 5ë°°ì˜ ë°ì´í„°ë¥¼ í•™ìŠµì‹œí‚¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë” ì •í™•í•œ ê²°ê³¼ ê°’ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤. ë˜í•œ ë” ì í•©í•œ ê¸°ê³„ í•™ìŠµ êµ¬ì¡°ì™€ í•„í„°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì‹¤ìƒí™œì— ì ìš©í•˜ëŠ” ê²ƒì—ë„ í° ë¬¸ì œê°€ ì—†ì„ ê²ƒìœ¼ë¡œ ë³´ì´ë©°, ì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì„ ê°œì„ í•œë‹¤ë©´ ë¹„ìš©ì´ ì €ë ´í•˜ê³  ì„¤ì¹˜ê°€ ìš©ì´í•œ Beaconì„ ì´ìš©í•˜ì—¬, ë‹¤ì–‘í•œ ì‹¤ë‚´ ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ AR í˜•ì‹ìœ¼ë¡œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìë“¤ì˜ í¸ì˜ì„±ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.



##### RSSI ê°’ì„ ì´ìš©í•œ ìœ„ì¹˜ ì´ˆê¸°í™” code ì¼ë¶€ë¶„ 
```cs
if (rf.isOnClick == true) // Refresh ë²„íŠ¼ onClick ì‹œ
{
        Debug.Log("Button is Onclick");
        rf.isOnClick = false;
        sX = rf.scanX; 
        sY = rf.scanY;
        // Native Androidì—ì„œ ì¸¡ì •í•œ RSSI Inputìœ¼ë¡œ ë‚˜ì˜¨ ì¢Œí‘œ Output
        cameraTarget.transform.position = new Vector3(sX, 0.0f, sY);
        myCam.transform.position = new Vector3(sX,0.0f,sY);
        Debug.Log("Hwang : After Send" + sX.ToString() + " " + sY.ToString());
}
```

##### ARcore SDKë¥¼ ì´ìš©í•œ SLAM ì‘ìš© (ìƒëŒ€ì  ìœ„ì¹˜ ì¶”ì )
```cs
if (Session.Status != SessionStatus.Tracking)
{
    trackingStarted = false;
    camPoseText2.gameObject.SetActive(true);
    const int LOST_TRACKING_SLEEP_TIMEOUT = 15;
    Screen.sleepTimeout = LOST_TRACKING_SLEEP_TIMEOUT;
    return;
}
else
{
    camPoseText.text = "" + cameraTarget.transform.position;
    camPoseText2.gameObject.SetActive(false);
}

Screen.sleepTimeout = SleepTimeout.NeverSleep;

Vector3 currentARPosition = Frame.Pose.position;
if (!trackingStarted)
{
    trackingStarted = true;
    m_prevARPosePosition = Frame.Pose.position;
}

Vector3 deltaPosition = currentARPosition - m_prevARPosePosition; // ìƒëŒ€ ìœ„ì¹˜
m_prevARPosePosition = currentARPosition;
if (cameraTarget != null)
{
    cameraTarget.transform.Translate(deltaPosition.x, 0.0f, deltaPosition.z,Space.World);

    //myCam.GetComponent<FollowTarget>().targetRot = Frame.Pose.rotation;
    //cameraTarget.GetComponent<FollowTarget>().targetRot = Frame.Pose.rotation;  
}
```

<img src="./Assets/image/image3.png" width="400"/>ã€€ã€€<img src="./Assets/image/image4.png" width="400"/>

<img src="./Assets/image/image2.png" width="400"/>ã€€ã€€<img src="./Assets/image/image5.png" width="400"/>

<img src="./Assets/image/image1.png" width="400"/>
